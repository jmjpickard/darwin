{"id":"darwin-06m","title":"Default brain model to llama3.2:1b","description":"Switch default local model from llama3.2:3b to llama3.2:1b and update docs/health checks.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T18:17:13.321673Z","updated_at":"2026-01-05T18:18:17.906117Z","closed_at":"2026-01-05T18:18:17.906117Z","close_reason":"Switched default brain model to llama3.2:1b and updated docs/health check"}
{"id":"darwin-07h","title":"Add terminal proxy daemon for PTY access in sandbox","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T21:39:06.517415Z","updated_at":"2026-01-04T21:52:30.803133Z","closed_at":"2026-01-04T21:52:30.803133Z","close_reason":"Add NDJSON terminal proxy daemon and client backend; allow backend selection via env, update CLI/test scripts and README."}
{"id":"darwin-0qc","title":"Add support for multi-choice questions (not just y/n)","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T22:41:36.615082Z","updated_at":"2026-01-03T22:41:36.615082Z"}
{"id":"darwin-0tl","title":"Send notification on task completion or failure","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-03T22:41:44.170955Z","updated_at":"2026-01-03T22:41:44.170955Z"}
{"id":"darwin-11d","title":"Sanitize env for terminal proxy spawns","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-04T22:03:42.024294Z","updated_at":"2026-01-04T22:04:29.419253Z","closed_at":"2026-01-04T22:04:29.419253Z","close_reason":"Sanitize proxy env for PTY spawns and add opt-out env; log spawn errors."}
{"id":"darwin-24z","title":"Refactor code-agent: update tool registrations for prd.json","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:36:34.645726Z","updated_at":"2026-01-08T15:36:42.019077Z","closed_at":"2026-01-08T15:36:42.019077Z","close_reason":"Update tool registrations/descriptions to reflect PRD tasks and mark legacy Beads tools"}
{"id":"darwin-2aq","title":"Add completion signal detection: detect \u003cdarwin:task-complete /\u003e in Claude output","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T23:07:19.820939Z","updated_at":"2026-01-08T15:57:35.904578Z","closed_at":"2026-01-08T15:57:35.904578Z","close_reason":"Completion signal detection already implemented in code-agent.ts:1827-1831 with COMPLETION_SIGNAL constant from prd-types.ts"}
{"id":"darwin-2rl","title":"Add progress events during Claude Code sessions","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T22:41:37.906186Z","updated_at":"2026-01-03T22:41:37.906186Z"}
{"id":"darwin-2ys","title":"Refactor code-agent: update task completion for features/tasks flow","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:36:34.915166Z","updated_at":"2026-01-08T15:48:37.153698Z","closed_at":"2026-01-08T15:48:37.153698Z","close_reason":"Update PRD feature status when tasks progress/complete to keep feature/task flow in sync"}
{"id":"darwin-310","title":"Add startup self-test that verifies all tools work","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-03T22:41:55.594728Z","updated_at":"2026-01-03T22:41:55.594728Z"}
{"id":"darwin-34z","title":"Fix TypeScript issues and improve error handling","description":"","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-03T22:41:25.524742Z","updated_at":"2026-01-03T22:41:25.524742Z"}
{"id":"darwin-494","title":"Add notify_send and notify_get_pending tools","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T22:41:43.929414Z","updated_at":"2026-01-03T22:41:43.929414Z"}
{"id":"darwin-4i2","title":"Add Beads task search and management tools","description":"Expose tools to list/search all Beads tasks and manage status/close via Darwin.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T23:33:10.448854Z","updated_at":"2026-01-05T23:33:39.166145Z","closed_at":"2026-01-05T23:33:39.166145Z","close_reason":"Added tools to list/search tasks and update/close Beads issues"}
{"id":"darwin-4n6","title":"Improve terminald spawn robustness on macOS","description":"Retry PTY spawn with minimal sanitized env and strip __XPC_DYLD_ vars to avoid posix_spawnp failed on macOS.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-04T22:09:00.171908Z","updated_at":"2026-01-04T22:10:14.038949Z","closed_at":"2026-01-04T22:10:14.038949Z","close_reason":"Retry terminald spawn with minimal env, strip DYLD/XPC vars, and improve error logging for macOS failures."}
{"id":"darwin-4tu","title":"Add gitSync config options to config.ts","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-07T20:36:44.953104Z","updated_at":"2026-01-08T16:02:01.192431Z","closed_at":"2026-01-08T16:02:01.192431Z","close_reason":"Added GitSyncUserConfig interface with enabled, intervalMs, prdReposOnly, autoStash options to config.ts including template config and validation"}
{"id":"darwin-5h7","title":"Handle Claude usage limits by waiting and resuming tasks","description":"When Claude CLI reports usage limits, CodeAgent should pause new tasks, avoid marking current task complete/failed, and resume after the reset time.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-04T22:24:51.619345Z","updated_at":"2026-01-04T22:29:05.076064Z","closed_at":"2026-01-04T22:29:05.076064Z","close_reason":"Debounced limit events, added cooldown/resume logic, and prevented success handling on limit stops."}
{"id":"darwin-5kf","title":"Stop forcing Claude permission-mode acceptEdits","description":"Remove automatic --permission-mode acceptEdits from Claude CLI startup so it doesn't hang on the Pi.","notes":"Removed auto-injection of --permission-mode acceptEdits from Claude args.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T17:27:48.081536Z","updated_at":"2026-01-06T17:28:17.190711Z","closed_at":"2026-01-06T17:28:17.190711Z","close_reason":"Stopped forcing --permission-mode acceptEdits; Claude startup now only injects -p prompt if missing."}
{"id":"darwin-642","title":"Store completed task history","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-03T22:41:50.025494Z","updated_at":"2026-01-03T22:41:50.025494Z"}
{"id":"darwin-6cj","title":"Rename Homebase to Darwin throughout codebase","description":"","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-03T22:41:09.188327Z","updated_at":"2026-01-03T22:45:11.04115Z","closed_at":"2026-01-03T22:45:11.04115Z","close_reason":"Completed: All Homebase -\u003e Darwin rename work done"}
{"id":"darwin-6cq","title":"Write unit tests for Brain tool dispatch logic","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T22:41:55.89037Z","updated_at":"2026-01-03T22:41:55.89037Z"}
{"id":"darwin-6h4","title":"PTY-based Terminal Controller","description":"Replace spawn/pipes with node-pty for real terminal emulation. Qwen2.5 3B will observe terminal output and decide what to type, mimicking human interaction with Claude REPL.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-04T20:19:34.086938Z","updated_at":"2026-01-04T20:30:49.269486Z","closed_at":"2026-01-04T20:30:49.269486Z","close_reason":"Phase 1 complete: Added node-pty, created terminal-types.ts, and implemented TerminalController class"}
{"id":"darwin-6h4.1","title":"Add node-pty dependency to package.json","description":"Add node-pty ^1.0.0. Note: requires build tools on Pi (Python, g++)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T20:19:55.122065Z","updated_at":"2026-01-04T20:24:51.465167Z","closed_at":"2026-01-04T20:24:51.465167Z","close_reason":"Added node-pty ^1.0.0 as dependency, updated description to Qwen2.5 3B","dependencies":[{"issue_id":"darwin-6h4.1","depends_on_id":"darwin-6h4","type":"parent-child","created_at":"2026-01-04T20:19:55.125886Z","created_by":"daemon"}]}
{"id":"darwin-6h4.2","title":"Create terminal-types.ts with state machine types","description":"Define TerminalState (idle/starting/ready/waiting_response/processing/question/limit_reached/error/stopping), TerminalAction, TerminalObservation interfaces","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T20:19:55.485376Z","updated_at":"2026-01-04T20:26:02.266202Z","closed_at":"2026-01-04T20:26:02.266202Z","close_reason":"Created terminal-types.ts with TerminalState, TerminalAction, TerminalObservation, patterns, and safety checks","dependencies":[{"issue_id":"darwin-6h4.2","depends_on_id":"darwin-6h4","type":"parent-child","created_at":"2026-01-04T20:19:55.4865Z","created_by":"daemon"}]}
{"id":"darwin-6h4.3","title":"Implement TerminalController class","description":"PTY lifecycle (spawn/write/kill), output buffering (max 50K chars), state detection via regex (prompt/question/limit), action execution (type/enter/ctrl keys)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T20:19:55.727574Z","updated_at":"2026-01-04T20:30:45.366329Z","closed_at":"2026-01-04T20:30:45.366329Z","close_reason":"Implemented TerminalController with PTY lifecycle, output buffering, state detection, and action execution","dependencies":[{"issue_id":"darwin-6h4.3","depends_on_id":"darwin-6h4","type":"parent-child","created_at":"2026-01-04T20:19:55.72906Z","created_by":"daemon"}]}
{"id":"darwin-6qv","title":"Write prd-manager unit tests in src/tests/prd-manager.test.ts","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T20:36:28.898164Z","updated_at":"2026-01-08T10:15:13.68234Z","closed_at":"2026-01-08T10:15:13.68234Z","close_reason":"Created comprehensive unit tests for PrdManager covering load/save, getNextFeature/getNextTask, updateFeatureStatus, markTaskCompleted, setFeatureBranch/setFeaturePr, isFeatureComplete, doAllTasksPass, addFeature/addTask, and getOverallProgress - all 29 tests passing"}
{"id":"darwin-6x4","title":"Refactor code-agent: replace BeadTask interface with prd.json types","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:36:34.144921Z","updated_at":"2026-01-08T13:54:55.663316Z","closed_at":"2026-01-08T13:54:55.663316Z","close_reason":"Replace BeadTask with PrdTask-based type and map beads statuses into PRD-compatible fields"}
{"id":"darwin-78c","title":"Create prd-manager.ts with PrdManager class (load/save/update methods)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T20:36:28.118313Z","updated_at":"2026-01-08T09:55:01.611356Z","closed_at":"2026-01-08T09:55:01.611356Z","close_reason":"Created prd-manager.ts with PrdManager class including load/save, getNextFeature/getNextTask, updateFeatureStatus/updateTaskStatus, markTaskCompleted, setFeatureBranch/setFeaturePr, and progress tracking methods"}
{"id":"darwin-7fb","title":"Update README for proactive assistant setup","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T15:54:27.868117Z","updated_at":"2026-01-05T15:57:41.088257Z","closed_at":"2026-01-05T15:57:41.088257Z","close_reason":"Updated README with current architecture and setup steps for the proactive assistant"}
{"id":"darwin-7mc","title":"Add REPL slash commands for brain provider/model","description":"Add /brain, /model, /provider commands in CLI REPL to update brain provider/model config quickly.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T23:13:05.307305Z","updated_at":"2026-01-05T23:13:34.58305Z","closed_at":"2026-01-05T23:13:34.58305Z","close_reason":"Added REPL slash commands (/brain, /model, /provider) to update brain config quickly"}
{"id":"darwin-7vw","title":"Expose Claude output tail for live monitoring","description":"","notes":"Add tool to fetch recent Claude output and include last-output timestamps in status for better visibility.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T16:55:44.433919Z","updated_at":"2026-01-06T16:57:58.001423Z","closed_at":"2026-01-06T16:57:58.001423Z","close_reason":"Added tool to fetch recent Claude output plus last-output timestamps for status/monitoring."}
{"id":"darwin-7yb","title":"Integration and CLI updates","description":"Wire everything together, update CLI and Darwin main class","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-04T20:20:55.581652Z","updated_at":"2026-01-04T20:20:55.581652Z"}
{"id":"darwin-7yb.1","title":"Update Darwin main class for Qwen brain","description":"Remove FunctionGemma references, instantiate brain with Qwen config","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T20:21:03.048417Z","updated_at":"2026-01-04T20:21:03.048417Z","dependencies":[{"issue_id":"darwin-7yb.1","depends_on_id":"darwin-7yb","type":"parent-child","created_at":"2026-01-04T20:21:03.050507Z","created_by":"daemon"}]}
{"id":"darwin-7yb.2","title":"Update CLI start command","description":"Update model references in start.ts, remove FunctionGemma mentions","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T20:21:03.251288Z","updated_at":"2026-01-04T20:21:03.251288Z","dependencies":[{"issue_id":"darwin-7yb.2","depends_on_id":"darwin-7yb","type":"parent-child","created_at":"2026-01-04T20:21:03.252271Z","created_by":"daemon"}]}
{"id":"darwin-7yb.3","title":"Update health check for Qwen model","description":"Verify qwen2.5:3b available via Ollama, measure inference speed","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T20:21:03.430859Z","updated_at":"2026-01-04T20:21:03.430859Z","dependencies":[{"issue_id":"darwin-7yb.3","depends_on_id":"darwin-7yb","type":"parent-child","created_at":"2026-01-04T20:21:03.431718Z","created_by":"daemon"}]}
{"id":"darwin-8cz","title":"Remove all Beads code, CLI calls, and interfaces from codebase","description":"","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-07T20:36:50.572024Z","updated_at":"2026-01-07T20:36:50.572024Z"}
{"id":"darwin-923","title":"Rename homebase.ts to darwin.ts and update class name","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-03T22:41:17.87237Z","updated_at":"2026-01-03T22:45:10.104307Z","closed_at":"2026-01-03T22:45:10.104307Z","close_reason":"Completed: homebase.ts renamed to darwin.ts with class Darwin"}
{"id":"darwin-924","title":"Add task recovery status + resume/reset options","description":"","notes":"Detect existing task branches/status, surface repo state, and offer continue/reset options.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T00:00:36.707417Z","updated_at":"2026-01-06T00:12:48.757589Z","closed_at":"2026-01-06T00:12:48.757589Z"}
{"id":"darwin-925","title":"Add scheduler for deferred task execution","description":"","notes":"Introduce a scheduler module/tools to run tasks at specified times (e.g., resume after Claude limits).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T00:00:41.421381Z","updated_at":"2026-01-06T00:12:53.174766Z","closed_at":"2026-01-06T00:12:53.174766Z"}
{"id":"darwin-926","title":"Fix Claude limit detection + improve session start + question handling","description":"Investigate false limit reached detection, improve prompt handshake/startup, and handle interactive question prompts (menu selection via arrow keys).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T00:15:34.348043Z","updated_at":"2026-01-06T09:13:44.554429Z","closed_at":"2026-01-06T09:13:44.554429Z"}
{"id":"darwin-927","title":"Add Codex backend for code agent sessions","description":"Add support for Codex as an alternative to Claude Code, including tool/config selection and session startup.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T00:15:37.124422Z","updated_at":"2026-01-06T09:13:48.83428Z","closed_at":"2026-01-06T09:13:48.83428Z"}
{"id":"darwin-aj6","title":"Testing and validation","description":"Manual and automated testing of PTY terminal controller with Qwen","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-04T20:21:11.875545Z","updated_at":"2026-01-04T20:21:11.875545Z"}
{"id":"darwin-aj6.1","title":"Unit tests for terminal state detection","description":"Test prompt/question/limit pattern matching in TerminalController","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T20:21:19.619146Z","updated_at":"2026-01-04T20:21:19.619146Z","dependencies":[{"issue_id":"darwin-aj6.1","depends_on_id":"darwin-aj6","type":"parent-child","created_at":"2026-01-04T20:21:19.620264Z","created_by":"daemon"}]}
{"id":"darwin-aj6.2","title":"Create mock Claude REPL script","description":"Script that simulates Claude REPL behavior for automated testing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T20:21:19.881532Z","updated_at":"2026-01-04T20:21:19.881532Z","dependencies":[{"issue_id":"darwin-aj6.2","depends_on_id":"darwin-aj6","type":"parent-child","created_at":"2026-01-04T20:21:19.88237Z","created_by":"daemon"}]}
{"id":"darwin-aj6.3","title":"Manual test with real Claude session","description":"Simple task in test repo, verify Qwen can guide Claude through completion","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T20:21:20.105572Z","updated_at":"2026-01-04T20:21:20.105572Z","dependencies":[{"issue_id":"darwin-aj6.3","depends_on_id":"darwin-aj6","type":"parent-child","created_at":"2026-01-04T20:21:20.106146Z","created_by":"daemon"}]}
{"id":"darwin-aj6.4","title":"Memory usage stress test","description":"30-min session, monitor buffer growth, verify cleanup on session end","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T20:21:20.253672Z","updated_at":"2026-01-04T20:21:20.253672Z","dependencies":[{"issue_id":"darwin-aj6.4","depends_on_id":"darwin-aj6","type":"parent-child","created_at":"2026-01-04T20:21:20.25428Z","created_by":"daemon"}]}
{"id":"darwin-ajk","title":"Update brain system prompt to reference prd.json instead of Beads","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-07T20:36:45.216819Z","updated_at":"2026-01-08T13:19:18.776346Z","closed_at":"2026-01-08T13:19:18.776346Z","close_reason":"Updated brain system prompt to reference prd.json task management"}
{"id":"darwin-aoz","title":"Add git pull scheduler to darwin.ts (pullAndCheckPrd + interval loop)","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-07T20:36:44.702407Z","updated_at":"2026-01-08T16:02:01.489615Z","closed_at":"2026-01-08T16:02:01.489615Z","close_reason":"Added git pull scheduler to darwin.ts with startGitSyncLoop, stopGitSyncLoop, runGitSync, syncRepo methods. Supports interval-based sync, prd-only repos, auto-stash, and emits git_sync events"}
{"id":"darwin-avk","title":"Create storage.ts with JSON file persistence","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T22:41:49.867605Z","updated_at":"2026-01-03T22:41:49.867605Z"}
{"id":"darwin-b0i","title":"Add progress.txt support: ProgressManager to read/write .darwin/progress-{feature-id}.txt","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T23:07:19.490396Z","updated_at":"2026-01-08T11:54:57.839576Z","closed_at":"2026-01-08T11:54:57.839576Z","close_reason":"Created ProgressManager class with ensureDir, load/save, getOrCreate, addTaskEntry, appendNotes, getSummary, listAll, and getRawContent methods. Includes 18 passing unit tests for the progress tracking system."}
{"id":"darwin-b3x","title":"Add retry logic for Ollama API calls in brain.ts","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T22:41:26.124071Z","updated_at":"2026-01-03T22:41:26.124071Z"}
{"id":"darwin-c04","title":"Create notifications module with Pushover/ntfy support","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-03T22:41:43.742092Z","updated_at":"2026-01-03T22:41:43.742092Z"}
{"id":"darwin-c90","title":"Add status endpoint for potential web dashboard","description":"","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-03T22:41:55.741287Z","updated_at":"2026-01-03T22:41:55.741287Z"}
{"id":"darwin-cp3","title":"Start Claude with --permission-mode acceptEdits and inline prompt","description":"Launch Claude CLI with permission-mode acceptEdits and -p \u003cprompt\u003e so tasks start immediately, while keeping PTY output streaming.","notes":"Pass -p \u003cprompt\u003e and --permission-mode acceptEdits when starting Claude; skip prompt wait and redact prompt in logs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T17:15:29.589658Z","updated_at":"2026-01-06T17:15:56.877722Z","closed_at":"2026-01-06T17:15:56.877722Z","close_reason":"Claude now starts with permission-mode acceptEdits and inline -p prompt; prompt submission handled without waiting for ready; CLI args logged with prompt redacted."}
{"id":"darwin-e45","title":"Store sensor readings over time","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-03T22:41:50.225283Z","updated_at":"2026-01-03T22:41:50.225283Z"}
{"id":"darwin-g4a","title":"Add timeout handling for long-running Ollama generations","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T22:41:26.256506Z","updated_at":"2026-01-03T22:41:26.256506Z"}
{"id":"darwin-ghi","title":"Improve Claude Code CLI integration","description":"","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-03T22:41:35.89705Z","updated_at":"2026-01-03T22:41:35.89705Z"}
{"id":"darwin-h6k","title":"Improve Claude prompt submission after paste","description":"Ensure task prompts are submitted with an explicit enter after paste and detect 'Try' prompt lines so we don't wait 30s to start.","notes":"Splitting prompt send into type + enter with retry if paste remains idle; broadened prompt detection for Try suggestions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T17:06:16.218397Z","updated_at":"2026-01-06T17:06:44.125817Z","closed_at":"2026-01-06T17:06:44.125817Z","close_reason":"Split prompt send into type+enter with retry on pasted prompt; prompt detection now accepts 'Try ...' suggestion line to avoid waiting."}
{"id":"darwin-h85","title":"Add .js extensions to all ESM imports","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T22:41:25.973193Z","updated_at":"2026-01-03T22:45:11.331475Z","closed_at":"2026-01-03T22:45:11.331475Z","close_reason":"Completed: All imports use .js extensions for ESM"}
{"id":"darwin-hpu","title":"Update package.json name and README title","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-03T22:41:18.567828Z","updated_at":"2026-01-03T22:45:10.913492Z","closed_at":"2026-01-03T22:45:10.913492Z","close_reason":"Completed: package.json and README updated"}
{"id":"darwin-k94","title":"Add Vitest: install, create config, add test scripts to package.json","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T20:36:28.551602Z","updated_at":"2026-01-08T10:01:26.575142Z","closed_at":"2026-01-08T10:01:26.575142Z","close_reason":"Installed vitest, created vitest.config.ts with node environment and coverage config, added test and test:watch scripts to package.json"}
{"id":"darwin-keu","title":"Handle Claude Code hitting usage limit mid-task","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-03T22:41:37.301376Z","updated_at":"2026-01-03T22:41:37.301376Z"}
{"id":"darwin-m06","title":"Add feedback loop: run typecheck + tests after completion, retry on failure","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T23:07:20.07937Z","updated_at":"2026-01-08T13:43:26.228332Z","closed_at":"2026-01-08T13:43:26.228332Z","close_reason":"Added validation loop for typecheck/tests with feedback on failure"}
{"id":"darwin-m7b","title":"Add status tracking: write state to ~/.darwin/status.json","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-07T20:36:45.480052Z","updated_at":"2026-01-08T13:28:15.679289Z","closed_at":"2026-01-08T13:28:15.679289Z","close_reason":"Added status tracking with status.json updates in CodeAgent"}
{"id":"darwin-m86","title":"Add notification system","description":"","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-03T22:41:43.585313Z","updated_at":"2026-01-03T22:41:43.585313Z"}
{"id":"darwin-mnw","title":"Create prd-types.ts with TypeScript interfaces for prd.json schema","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T20:36:27.789631Z","updated_at":"2026-01-08T09:54:08.818158Z","closed_at":"2026-01-08T09:54:08.818158Z","close_reason":"Created prd-types.ts with TypeScript interfaces for PrdTask, PrdFeature, PrdDocument, DarwinStatus, ValidationResult, and helper functions"}
{"id":"darwin-mo1","title":"Fix node-pty spawn-helper permissions on macOS","description":"Ensure spawn-helper is executable before spawning PTY to avoid posix_spawnp failed on macOS prebuilds.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-04T22:16:19.426875Z","updated_at":"2026-01-04T22:16:46.62155Z","closed_at":"2026-01-04T22:16:46.62155Z","close_reason":"Ensure node-pty spawn-helper is executable before PTY spawn; added shared helper for terminald and direct PTY backend."}
{"id":"darwin-n4c","title":"Add persistent storage for Darwin state","description":"","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-03T22:41:49.698909Z","updated_at":"2026-01-03T22:41:49.698909Z"}
{"id":"darwin-nmb","title":"Refactor code-agent: replace fetchBeadsTasks with fetchPrdFeatures","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T20:36:34.39885Z","updated_at":"2026-01-08T14:34:50.598891Z","closed_at":"2026-01-08T14:34:50.598891Z","close_reason":"Replace Beads task fetching with PRD feature fetching for task aggregation"}
{"id":"darwin-pqs","title":"Use llama3.2:3b and pull model on startup","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T17:14:27.821149Z","updated_at":"2026-01-05T17:18:34.70208Z","closed_at":"2026-01-05T17:18:34.70208Z","close_reason":"Switch brain model to llama3.2:3b and pull via Ollama on startup"}
{"id":"darwin-qu8","title":"Test and fix Claude Code --print flag interaction","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-03T22:41:36.297933Z","updated_at":"2026-01-03T22:41:36.297933Z"}
{"id":"darwin-x2o","title":"Fix process variable shadowing in code-agent.ts","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-03T22:41:25.782397Z","updated_at":"2026-01-03T22:45:11.166543Z","closed_at":"2026-01-03T22:45:11.166543Z","close_reason":"Completed: Renamed process to claudeProcess in code-agent.ts"}
{"id":"darwin-xc0","title":"Replace FunctionGemma with Qwen2.5 3B","description":"Single model for both dispatch and terminal observation. Qwen2.5 3B has better reasoning and supports function calling via Ollama.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-04T20:20:07.113966Z","updated_at":"2026-01-04T20:38:27.445901Z","closed_at":"2026-01-04T20:38:27.445901Z","close_reason":"Phase 2 complete: Replaced FunctionGemma + Gemma 1B with single Qwen2.5 3B model. Added observeTerminal() for PTY control."}
{"id":"darwin-xc0.1","title":"Update DarwinBrain to use qwen2.5:3b model","description":"Replace dispatcherModel: functiongemma with model: qwen2.5:3b. Remove reasoner model complexity.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T20:20:15.570213Z","updated_at":"2026-01-04T20:38:21.543012Z","closed_at":"2026-01-04T20:38:21.543012Z","close_reason":"Updated dispatcherModel: functiongemma to model: qwen2.5:3b in BrainConfig","dependencies":[{"issue_id":"darwin-xc0.1","depends_on_id":"darwin-xc0","type":"parent-child","created_at":"2026-01-04T20:20:15.570956Z","created_by":"daemon"}]}
{"id":"darwin-xc0.2","title":"Add observeTerminal() method to DarwinBrain","description":"Takes TerminalObservation + task context, returns TerminalAction as JSON. Uses /api/generate with low temperature (0.3) for deterministic actions. Fallback to wait on parse failure.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T20:20:15.740313Z","updated_at":"2026-01-04T20:38:21.845747Z","closed_at":"2026-01-04T20:38:21.845747Z","close_reason":"Added observeTerminal() method that takes TerminalObservation + task context, returns TerminalAction as JSON","dependencies":[{"issue_id":"darwin-xc0.2","depends_on_id":"darwin-xc0","type":"parent-child","created_at":"2026-01-04T20:20:15.740976Z","created_by":"daemon"}]}
{"id":"darwin-xc0.3","title":"Simplify BrainConfig to single model","description":"Remove dual-model config (dispatcherModel/reasonerModel), update types to single model: string","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T20:20:16.504945Z","updated_at":"2026-01-04T20:38:22.146898Z","closed_at":"2026-01-04T20:38:22.146898Z","close_reason":"Simplified BrainConfig to single model string, removed dispatcherModel/reasonerModel dual config","dependencies":[{"issue_id":"darwin-xc0.3","depends_on_id":"darwin-xc0","type":"parent-child","created_at":"2026-01-04T20:20:16.505954Z","created_by":"daemon"}]}
{"id":"darwin-xl3","title":"Rewrite CodeAgentModule with PTY control","description":"Full rewrite of code-agent.ts for PTY-based Claude interaction. Qwen observes terminal every 500ms and decides what to type.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-04T20:20:29.602179Z","updated_at":"2026-01-04T20:20:29.602179Z"}
{"id":"darwin-xl3.1","title":"Implement PTY session management in CodeAgentModule","description":"Start/stop PTY sessions, integrate with TerminalController. Keep track of active session state.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-04T20:20:44.438201Z","updated_at":"2026-01-04T20:20:44.438201Z","dependencies":[{"issue_id":"darwin-xl3.1","depends_on_id":"darwin-xl3","type":"parent-child","created_at":"2026-01-04T20:20:44.438973Z","created_by":"daemon"}]}
{"id":"darwin-xl3.2","title":"Implement observation loop with Qwen","description":"Every 500ms: get observation from terminal, ask Qwen what to do, execute the returned action","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-04T20:20:44.587651Z","updated_at":"2026-01-04T20:20:44.587651Z","dependencies":[{"issue_id":"darwin-xl3.2","depends_on_id":"darwin-xl3","type":"parent-child","created_at":"2026-01-04T20:20:44.588295Z","created_by":"daemon"}]}
{"id":"darwin-xl3.3","title":"Implement limit detection and wake-up scheduling","description":"Detect 'Limit reached Â· resets 7pm' message, parse reset time, schedule setTimeout to resume. Log the wait.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-04T20:20:44.7179Z","updated_at":"2026-01-04T20:20:44.7179Z","dependencies":[{"issue_id":"darwin-xl3.3","depends_on_id":"darwin-xl3","type":"parent-child","created_at":"2026-01-04T20:20:44.718469Z","created_by":"daemon"}]}
{"id":"darwin-xl3.4","title":"Implement escalation handling","description":"Log and skip critical/destructive decisions for now. Future: notify via notification module.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-04T20:20:44.85694Z","updated_at":"2026-01-04T20:20:44.85694Z","dependencies":[{"issue_id":"darwin-xl3.4","depends_on_id":"darwin-xl3","type":"parent-child","created_at":"2026-01-04T20:20:44.858239Z","created_by":"daemon"}]}
{"id":"darwin-xl3.5","title":"Preserve existing Beads task workflow","description":"Keep branch creation, status updates (in_progress/blocked), test running, commit/push, PR creation flow","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-04T20:20:45.002526Z","updated_at":"2026-01-04T20:20:45.002526Z","dependencies":[{"issue_id":"darwin-xl3.5","depends_on_id":"darwin-xl3","type":"parent-child","created_at":"2026-01-04T20:20:45.003115Z","created_by":"daemon"}]}
{"id":"darwin-xu9","title":"Add brain provider switch (ollama/openrouter) and model config","description":"Allow choosing brain provider in config (ollama vs openrouter), set model in config, and wire DarwinBrain to use OpenRouter when selected.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T23:00:05.619861Z","updated_at":"2026-01-05T23:10:32.284586Z","closed_at":"2026-01-05T23:10:32.284586Z","close_reason":"Added brain provider switch (ollama/openrouter), model config, and OpenRouter-backed brain flows"}
{"id":"darwin-zc1","title":"Write code-agent integration tests in src/tests/code-agent.test.ts","description":"","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-07T20:36:50.293316Z","updated_at":"2026-01-07T20:36:50.293316Z"}
{"id":"darwin-zjv","title":"Update CLI banner and messaging to say Darwin","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-03T22:41:18.360709Z","updated_at":"2026-01-03T22:45:10.703242Z","closed_at":"2026-01-03T22:45:10.703242Z","close_reason":"Completed: CLI banner updated to Darwin"}
{"id":"darwin-zx0","title":"Update all imports to use Darwin instead of Homebase","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-03T22:41:18.045021Z","updated_at":"2026-01-03T22:45:10.534816Z","closed_at":"2026-01-03T22:45:10.534816Z","close_reason":"Completed: All imports updated to use Darwin"}
